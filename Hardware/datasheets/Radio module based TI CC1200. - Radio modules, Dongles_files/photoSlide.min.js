!function(t,o){"object"==typeof exports&&"object"==typeof module?module.exports=o():"function"==typeof define&&define.amd?define("__JZ_UMD__",[],o):"object"==typeof exports?exports.__JZ_UMD__=o():(t.__JZ_UMD__=t.__JZ_UMD__||{},t.__JZ_UMD__["libs/photoSlide"]=o())}("undefined"!=typeof window?window:global,(function(){return function(){var t,o,i,e,n,a,d,h;function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function s(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,o){if(t){if("string"==typeof t)return l(t,o);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?l(t,o):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,o){(null==o||o>t.length)&&(o=t.length);for(var i=0,e=Array(o);i<o;i++)e[i]=t[i];return e}return!Site.photoSlide&&(Site.photoSlide={Func:{},Options:{},Plugins:{},Tool:{},PhotoSlide:{}}),t=jQuery,o=Site.photoSlide,a="closeBtn",d=!1,h={init:function(t){i=o.Options["module"+t],e=i.pluginsOptions,n=e[a],d=!0},create:function(){if(d&&n.on){var e=t("#"+i.photoSlideId).find(".J_top");e.find(".close").length||(e.append("<div id='"+i.photoSlideId+"_close' class='close'></div>"),t("#"+i.photoSlideId+"_close").bind("click.photoSlide",(function(){o.Func.close(i.moduleId)})))}}},o.Plugins[a]=h,function(t,o){var i,e,n,a,d="prevBtn",h=!1,p={init:function(t){i=o.Options["module"+t],e=i.pluginsOptions,n=e[d],a=i.photoSlideId+"_prev",h=!0},create:function(){if(h&&n.on){t("#"+i.photoSlideId).find(".J_photoList").before("<div id='"+a+"' class='photoSlidebutton prev'></div>");var e=o.Tool.calcCenterLine("V",i.moduleId,t("#"+a)),d=o.Options.pubOption._panelPaddingLeft;Fai.isPC()?t("#"+a).css({top:e+"px",left:d+"px"}):t("#"+a).css({left:d+"px"}),t("#"+i.photoSlideId+"_prev").off(".photoSlide"),t("#"+i.photoSlideId+"_prev").on("click.photoSlide",(function(){var o=t("#"+i.photoSlideId).find(".J_photoList .select"),e=t(o).prev();i.photoSlide.changePhoto(e,i.moduleId)})).on("mouseenter.photoSlide",(function(){t(this).addClass("prev_hover")})).on("mouseleave.photoSlide",(function(){t(this).removeClass("prev_hover")}))}},show:function(){t("#"+i.photoSlideId).find("#"+a).show()},hide:function(){t("#"+i.photoSlideId).find("#"+a).hide()}};o.Plugins[d]=p}(jQuery,Site.photoSlide),function(t,o){var i,e,n,a,d="nextBtn",h=!1,p={init:function(t){i=o.Options["module"+t],e=i.pluginsOptions,n=e[d],a=i.photoSlideId+"_next",h=!0},create:function(){if(h&&n.on){t("#"+i.photoSlideId).find(".J_photoList").after("<div id='"+a+"' class='photoSlidebutton next'></div>");var e=o.Tool.calcCenterLine("V",i.moduleId,t("#"+a)),d=o.Options.pubOption._panelPaddingLeft;Fai.isPC()?t("#"+a).css({top:e+"px",right:d+"px"}):t("#"+a).css({right:d+"px"}),t("#"+i.photoSlideId+"_next").off(".photoSlide"),t("#"+i.photoSlideId+"_next").on("click.photoSlide",(function(){var o=t("#"+i.photoSlideId).find(".J_photoList .select"),e=t(o).next();i.photoSlide.changePhoto(e,i.moduleId)})).on("mouseenter.photoSlide",(function(){t(this).addClass("next_hover")})).on("mouseleave.photoSlide",(function(){t(this).removeClass("next_hover")}))}},show:function(){t("#"+i.photoSlideId).find("#"+a).show()},hide:function(){t("#"+i.photoSlideId).find("#"+a).hide()}};o.Plugins[d]=p}(jQuery,Site.photoSlide),function(t,o){var i,e,n,a="descPanel",d=!1,h={init:function(t){i=o.Options["module"+t],e=i.pluginsOptions,n=e[a],d=!0},create:function(){if(d&&n.on){var o=[];o.push("<div class='photoInfo'>"),o.push("<span class='photoName'>"),o.push("</span><span class='nowPage'>"),o.push("</span><span class='pageTotal'></span>"),o.push("</div>"),o.push("<p class='photoDesc'></p>"),t("#"+i.photoSlideId).find(".J_bottom").append(o.join(""))}},edit:function(o,e,n,a,d){t("#"+i.photoSlideId).find(".photoInfo .photoName").text(e),e?t("#"+i.photoSlideId).find(".photoInfo .photoName").show():t("#"+i.photoSlideId).find(".photoInfo .photoName").hide(),t("#"+i.photoSlideId).find(".photoDesc").html(n),t("#"+i.photoSlideId).find(".photoInfo .nowPage").text(a),t("#"+i.photoSlideId).find(".photoInfo .pageTotal").text("/"+d)},setPanelStyle:function(o,e){t("#"+i.photoSlideId).find(o).css(e)}};o.Plugins[a]=h}(jQuery,Site.photoSlide),function(t,o){var i,e,n,a={BSINMax:2,BSIN:0,positionStart:195,positionBase:95,photoWidthStart:250,photoHeightStart:300,photoSizeBase:100,animateEasing:500},d={init:function(t){var e="module"+t;i=o.Options[e],n=i.photoSlideId,a.BSIN=function(t){var i=(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-140-120,e=0,n=5;for(;e<a.BSINMax&&i-n>760;)n+=a.positionBase,e++;(0==e||o.Options[t].photoDataList.length<5)&&(e=1);return e}(e)},create:function(d,r){e=r,function(d){for(var h=i.photoDataList,s=a.BSIN,l=[],r=0,c=0,f=0,u=[],g=0;g<h.length;g++){if(h[g].id===e){f=g,c=g+s,(r=g-s)<0&&(r+=h.length),c>=h.length&&(c-=h.length);break}}if(r==c&&h.length>1){var v=Math.abs(f-s);p(d,v,l,h,u),p(d,f,l,h,u),p(d,v,l,h,u)}else{for(var m=r;m!=c;m++)m==h.length?m=-1:p(d,m,l,h,u);p(d,c,l,h,u)}t("#"+n).find(".J_photoList").append(l.join("")),o.Tool.checkImgLoad(u,d,null)}(d),function(i){var e=a.photoWidthStart,d=a.photoHeightStart,h=a.photoSizeBase,p=a.BSIN,r=t("#"+n).find(".J_photoList .photoImg");t.each(r,(function(r,c){var f=t(c).hasClass("select"),u=a.positionStart,g=a.positionBase,v=parseInt(t(c).attr("data-width")),m=parseInt(t(c).attr("data-height")),S=s(c),I=Math.abs(S-p),_=10,w=20;if(S>0&&(v=e-h*(S-1),m=d-h*(S-1)),f){var x=l(v,m,i,_=w);v=x.photoWidth,m=x.photoHeight}var b=o.Tool.calcCenterLine("V",i,m),y=o.Tool.calcCenterLine("H",i,v);if(!f){var P=t("#"+n).find(".J_photoList .select"),L=parseInt(t(P).attr("data-width"));L=l(L,parseInt(t(P).attr("data-height")),i,20).photoWidth;var O=o.Tool.calcCenterLine("H",i,L);if(t(c).nextAll(".select").length>0){y=O;for(var C=S;C;C--)y-=u,u-=g}else{y=O+L;for(var H=S;H;H--)y+=u,u-=g;y-=v-_}}y-=w/2;var W="default";1==S&&(W="pointer"),Fai.isPC()?t(c).css({width:v+_+"px",height:m+_+"px",top:b+"px",left:y+"px","z-index":I,cursor:W}):t(c).css({width:v+_+"px",height:m+_+"px",left:y+"px","z-index":I,cursor:W}),t(c).find("img").css({width:v+"px",height:m+"px"})}))}(d),h(d)},changePhoto:function(e,d){var p=t("#"+n).find(".photoImg").is(":animated"),r=t("#"+n).find(".J_photoList .select");if(0!=e.length&&!t(e).hasClass("select")&&!p){t(r).removeClass("select"),t(e).addClass("select"),function(e,n){var d=t(e).prevAll(),p=t(e).nextAll(),s=0,l=[],r=d.length,c=t(d).last();0==r&&(c=t(e));var f=[],u=parseInt(t(c).attr("data-index"));if(r<a.BSIN){for(var g=s=a.BSIN-r;g>0;g--){0==u&&(u=i.photoDataList.length);var v=u-g,m=i.photoDataList[v];void 0!==m&&(f.push("<div id='photo"+m.id+"' class='photoImg' data-width="+m.picWidth+" data-height="+m.picHeight+" data-index="+v+">"),f.push("<div class='shade'></div>"),f.push("<img src="+m.picPath+" alt="+Fai.encodeHtml(m.name)+" />"),f.push("</div>"),l.push(m.picPath))}t(c).before(f.join(""))}else if(r>a.BSIN){s=r-a.BSIN;for(var S=0;S<s;S++)t(c).remove(),d=t(e).prevAll(),c=t(d).last()}var I=p.length;c=t(p).last(),0==I&&(c=t(e));if(f=[],u=parseInt(t(c).attr("data-index")),I<a.BSIN){s=a.BSIN-I;for(var _=1;_<=s;_++){u==i.photoDataList.length-1&&(u=-1);var w=u+_,x=i.photoDataList[w];void 0!==x&&(f.push("<div id='photo"+x.id+"' class='photoImg' data-width="+x.picWidth+" data-height="+x.picHeight+" data-index="+w+">"),f.push("<div class='shade'></div>"),f.push("<img src="+x.picPath+" alt="+Fai.encodeHtml(x.name)+" />"),f.push("</div>"),l.push(x.picPath))}t(c).after(f.join(""))}else if(I>a.BSIN){s=I-a.BSIN;for(var b=0;b<s;b++)t(c).remove(),p=t(e).nextAll(),c=t(p).last()}h(n),o.Tool.checkImgLoad(l,n,null)}(e,d);var c=a.photoWidthStart,f=a.photoHeightStart,u=a.photoSizeBase,g=a.BSIN,v=t("#"+n).find(".J_photoList .photoImg");t.each(v,(function(e,h){var p=t(h).hasClass("select"),r=s(h),v=a.positionStart,m=a.positionBase,S=parseInt(t(h).attr("data-width")),I=parseInt(t(h).attr("data-height")),_=Math.abs(r-g),w=10;if(p){var x=l(S,I,d,w=20);S=x.photoWidth,I=x.photoHeight}r>0&&(S=c-u*(r-1),I=f-u*(r-1));var b=o.Tool.calcCenterLine("V",d,I),y=o.Tool.calcCenterLine("H",d,S);if(p){var P=parseInt(t(h).attr("data-index")),L=i.photoDataList[P];o.Plugins.descPanel.edit(d,L.name,L.basic,P+1,i.photoDataList.length),t(h).find(".shade").remove()}else{var O=t("#"+n).find(".J_photoList .select"),C=parseInt(t(O).attr("data-width"));C=l(C,parseInt(t(O).attr("data-height")),d,20).photoWidth;var H=o.Tool.calcCenterLine("H",d,C);if(t(h).nextAll(".select").length>0){y=H;for(var W=r;W;W--)y-=v,v-=m}else{y=H+C;for(var J=r;J;J--)y+=v,v-=m;y-=S}0==t(h).find(".shade").length&&t(h).find("img").before("<div class='shade'></div>")}y-=w/2;var T="default";1==r&&(T="pointer"),t(h).css({zIndex:_,cursor:T}),Fai.isPC()?t(h).stop().animate({width:S+w+"px",height:I+w+"px",top:b+"px",left:y+"px"},500,"swing",(function(){t(this).fadeIn(200,"linear")})):t(h).stop().animate({width:S+w+"px",height:I+w+"px",left:y+"px"},500,"swing",(function(){t(this).fadeIn(200,"linear")})),t(h).find("img").stop().animate({width:S+"px",height:I+"px",opacity:1},500,"swing",(function(){t(this).fadeIn(200,"linear")}))}))}},imageFadeIn:function(o){var i=t("#"+("photoSlide_"+o)).find(".J_photoList .select");t(i).fadeIn(100,"linear",(function(){var o=t(i).prev(),e=t(i).next();t(o).fadeIn(100,"linear",(function(){o=t(this).prev(),t(o).fadeIn(100,"linear")})),t(e).fadeIn(100,"linear",(function(){e=t(this).next(),t(e).fadeIn(100,"linear")}))}))}};function h(o){t("#"+n).find(".photoImg").off(".photoSlide"),t("#"+n).find(".photoImg").on("click.photoSlide",(function(){var i=t(this);s(t(this))>1||d.changePhoto(i,o)}))}function p(t,i,n,a,d){var h=a[i];e==h.id?(n.push("<div id='photo"+h.id+"' class='photoImg select' data-width="+h.picWidth+" data-height="+h.picHeight+" data-index="+i+">"),n.push("<img src="+h.picPath+" alt="+Fai.encodeHtml(h.name)+" />"),n.push("</div>"),o.Plugins.descPanel.edit(t,h.name,h.basic,i+1,a.length)):(n.push("<div id='photo"+h.id+"' class='photoImg' data-width="+h.picWidth+" data-height="+h.picHeight+" data-index="+i+">"),n.push("<div class='shade'></div>"),n.push("<img src="+h.picPath+" alt="+Fai.encodeHtml(h.name)+" />"),n.push("</div>")),d.push(h.picPath)}function s(o){if(t(o).hasClass("select"))return 0;var i=t(o).prevAll(".select").length>0,e=0;if(i){var n=t(o).prevAll("");t.each(n,(function(o,i){if(e++,t(i).hasClass("select"))return!1}))}else{var a=t(o).nextAll("");t.each(a,(function(o,i){if(e++,t(i).hasClass("select"))return!1}))}return e}function l(t,i,e,n){var a=o.Options.pubOption,d=a._panelWidth,h=a._panelHeight-2*a._panelPaddingTop-101,p={photoWidth:t,photoHeight:i};if(t>i){var s=i/t;t>d&&(p.photoWidth=d,p.photoHeight=s*p.photoWidth,p.photoHeight>h&&(p.photoWidth*=h/p.photoHeight,p.photoHeight*=h/p.photoHeight)),i>h&&(p.photoHeight=h,p.photoWidth=p.photoHeight/s)}else if(t<i){var l=t/i;i>h&&(p.photoHeight=h,p.photoWidth=l*p.photoHeight,p.photoWidth>d&&(p.photoHeight*=d/p.photoWidth,p.photoWidth*=d/p.photoWidth))}else t==i&&t>h&&(p.photoWidth=h,p.photoHeight=h);return p.photoWidth-=n,p.photoHeight-=n,p}o.PhotoSlide.annular=d}(jQuery,Site.photoSlide),function(t,o){var i,e,n,a,d=parseInt(.32*t("body").height()),h=112,p={init:function(t){n=o.Options["module"+t],i=n.photoSlideId},create:function(d,h){e=h,function(d){var h=[],p=n.photoDataList;a=[],t.each(p,(function(t,i){var n="";i.id==e&&(o.Plugins.descPanel.edit(d,i.name,i.basic,t+1,p.length),n="select");var s={};s=function(t,i){var e=o.Options.pubOption._panelWidth-470,n=o.Options.pubOption._panelHeight-311,a=600,d=0,h={width:t,height:i};t>=i?(d=i/t,h.width=e,h.height=d*e,h.height>n&&(h.width=n/d,h.height=n)):i>t?(d=t/i,h.width=d*n,h.height=n,h.width>e&&(h.width=e,h.height=e/d)):(i>a||t>a)&&(h.width=a,h.height=a);return h}(i.picWidth,i.picHeight),h.push("<div id='photo"+i.id+"' class='photoImg "+n+"' data-width='"+s.width+"' data-height='"+s.height+"' data-index="+t+">"),h.push("<img class='photoImgTag' src="+i.picPath+" alt="+Fai.encodeHtml(i.name)+" />"),h.push("</div>"),a.push(i.picPath)})),t("#"+i).find(".J_photoList").append(h.join("")),c(t("#"+i).find(".J_photoList .select"))}(d),function(e){var n,d,h,p,c=t("#"+i).find(".J_photoList .photoImg"),f=o.Options.pubOption._panelHeight;t.each(c,(function(o,i){var e=t(i).hasClass("select"),a=s(i);n=h=a.width,d=f,p=a.height,e&&(n=h=parseInt(t(i).attr("data-width")),p=parseInt(t(i).attr("data-height"))),t(i).css({width:n,height:d}),t(i).find(".photoImgTag").css({width:h,height:p+"px"})}));var u=l(e,i);t.each(c,(function(o,i){var e=t(i).hasClass("select"),n=t(i).next().hasClass("select"),a=t(i).width(),d=n||e?8:5;t(i).css({width:a,left:u+"px"}),u+=a+d})),o.Tool.checkImgLoad(a,e,r)}(d),function(o){t("#"+i).find(".J_photoList .photoImg .photoImgTag").off(".photoSlide"),t("#"+i).find(".J_photoList .photoImg .photoImgTag").on("click.photoSlide",(function(){var i=t(this).parent(".photoImg");p.changePhoto(i,o)}))}(d),o.Plugins.descPanel.setPanelStyle(".photoInfo",{"margin-top":"54px"})},changePhoto:function(e,a){var p=t("#"+i).find(".photoImg").is(":animated");if(0!=e.length&&!t(e).hasClass("select")&&!p){t("#"+i).find(".J_photoList .select").removeClass("select"),t(e).addClass("select");var r=parseInt(t("#"+i).find(".J_photoList .select").attr("data-index")),f=n.photoDataList[r];o.Plugins.descPanel.edit(a,f.name,f.basic,r+1,n.photoDataList.length);var u=t("#"+i).find(".J_photoList .photoImg"),g=l(a,i);t.each(u,(function(o,i){var e=t(i).hasClass("select"),n=t(i).next().hasClass("select"),a=t(i).width(),p=t(i).find("img").width(),l=t(i).find("img").height(),r=n||e?8:5;if(e)p=a=parseInt(t(i).attr("data-width")),l=parseInt(t(i).attr("data-height")),c(i);else if(l!=h){var f=s(i);a=f.width,p=f.width,l=f.height}t(i).stop().animate({width:a+"px",left:g+"px"}),t(i).find("img").stop().animate({width:p+"px",height:l+"px"}),t(i).find(".photoRef").stop().animate({width:p+"px",height:l+"px",bottom:d-l+"px"}),g+=a+r}))}},imageFadeIn:function(){}};function s(o){var i={width:0,height:0},e=parseInt(t(o).attr("data-width"))/parseInt(t(o).attr("data-height"));return i.width=e*h,i.height=h,i}function l(i,e){for(var n=t("#"+e).find(".J_photoList .select"),a=parseInt(t(n).attr("data-width")),d=o.Tool.calcCenterLine("H",i,a),p=t(n).prevAll(),l=0;l<p.length;l++){var r=p[l],c=t(r).width(),f=t(r).find(".photoImgTag").height(),u=t(r).next().hasClass("select")?8:5;if(!t(r).hasClass("select")&&f!=h)c=s(r).width;d-=c+u}return d}function r(){for(var o=t("#"+i).find(".J_photoList .photoImg .photoImgTag"),e=0;e<o.length;e++){var n=o[e],a=t(n).parent(),h=parseInt(t(a).attr("data-width")),p=parseInt(t(a).attr("data-height")),s=t(n).width(),l=t(n).height(),r=s,c=Math.floor(1*l);if(Fai.isIE6()||Fai.isIE7()||Fai.isIE8()||Fai.isIE9()){var f=document.createElement("img");f.src=n.src,f.className="photoRef",f.style.width=h+"px",f.style.display="block",f.style.height=p+"px",f.style.filter="flipv progid:DXImageTransform.Microsoft.Alpha(opacity=80, style=1, finishOpacity=0, startx=0, starty=0, finishx=0, finishy="+p+")",t(a).append(f)}else{var u=document.createElement("canvas");if(u.getContext){var g=u.getContext("2d");u.className="photoRef",u.width=h,u.height=p,t(a).append(u),g.save(),g.translate(0,p-1),g.scale(1,-1),g.drawImage(n,0,0,h,p),g.restore(),g.globalCompositeOperation="destination-out";var v=g.createLinearGradient(0,0,0,p);v.addColorStop(0,"rgba(255, 255, 255, 0)"),v.addColorStop(1,"rgba(255, 255, 255, 1)"),g.fillStyle=v,g.rect(0,0,h,p),g.fill()}}t(a).find(".photoRef").css({position:"absolute",bottom:d-c+"px",width:r+"px",height:c+"px"})}}function c(i){var e=0==t(i).prev().length,n=0==t(i).next().length;return e?(o.Plugins.nextBtn.show(),void o.Plugins.prevBtn.hide()):n?(o.Plugins.prevBtn.show(),void o.Plugins.nextBtn.hide()):(o.Plugins.prevBtn.show(),void o.Plugins.nextBtn.show())}o.PhotoSlide.horizontal=p}(jQuery,Site.photoSlide),function(t,o){var i=function(i,e,n){var a,d,h,p,l="module"+i,r=!!t("#".concat(l," #pagenation").concat(i," .pagination_lookmore_btn")).length||!!t("#".concat(l," #pagenation").concat(i," .pagination_nomore_tips")).length,c=[];r&&null!==(a=o.Options[l])&&void 0!==a&&a.photoDataList&&(c=null===(d=o.Options[l])||void 0===d?void 0:d.photoDataList,null==n||null===(h=n.photoDataList)||void 0===h||h.forEach((function(t){var o;c=null===(o=c)||void 0===o?void 0:o.filter((function(o){return(null==t?void 0:t.id)!==(null==o?void 0:o.id)}))})),c=[].concat(s(c),s(null!==(p=null==n?void 0:n.photoDataList)&&void 0!==p?p:[])));o.Options[l]=t.extend({},e,n),c.length&&(o.Options[l].photoDataList=c)};o.Func.init=function(e,n,a){var d,h="module"+e,p="photoSlide_"+e;function s(){switch(o.Options[h].photoSlideType){case 0:case 2:o.Options[h].photoSlide=o.PhotoSlide.annular,o.Options[h].photoSlide.init(e);break;case 1:o.Options[h].photoSlide=o.PhotoSlide.horizontal,o.Options[h].photoSlide.init(e)}var i={jz_content_terminal:jzUtils.digGet(o,"Options[".concat(h,"].jz_content_terminal"),"site"),jz_version:Fai.top.jzVersion};if(2==o.Options[h].photoSlideType&&"undefined"!=typeof Vue){var a=o.Options[h].photoDataList,s=0;return a.forEach((function(t,o){t.id===n&&(s=o)})),void Site.slideshowView({id:e,previewSrcList:a,initialIndex:s,logEventConfig:{event:"jz_hdpzj",properties:i}})}i.jz_free_text0=jzUtils.digGet(jzUtils.browser.getUaInfo(),"browser.name"),Site.JzFdpLog.logFdpRequest("jz_hdpzj",i),Fai.isPC()||(o.Func.scrollTop=document.scrollingElement.scrollTop,document.body.style.top=-o.Func.scrollTop+"px",t("body").addClass("closeBodyScoll"));var l,r,c={windowWidth:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,windowHeight:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,_panelWidth:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,_panelHeight:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,_panelPaddingTop:70,_panelPaddingLeft:55,_bottomMaxWidth:1400};c.windowHeight<=800&&(c._panelPaddingTop=55),o.Options.pubOption=c,n||(n=o.Options[h].photoDataList[0].id),function(){var i=o.Options[h].pluginsOptions;t.each(i,(function(t,i){if(!i.on)return!1;o.Plugins[t].init(e,i.arg)}))}(),l=Fai.isPC()?"":"photoSlidePanel_mobi",(r=[]).push("<div id="+p+" class='photoSlidePanel "+l+"'>"),r.push("<div class='J_top top'></div>"),r.push("<div class='J_middle middle'>"),r.push("<div class='J_photoList photoList_"+o.Options[h].photoSlideType+"'></div>"),r.push("</div>"),r.push("<div class='J_bottom bottom'></div>"),r.push("</div>"),t("body").append(r.join("")),t.each(o.Plugins,(function(t,o){o.create()})),o.Options[h].photoSlide.create(e,n),function(){var i=o.Options.pubOption,n=o.Options[h].photoSlideType,a={width:i._panelWidth-2*i._panelPaddingLeft,bottom:"0px"};a.width>i._bottomMaxWidth&&(a.width=i._bottomMaxWidth);1==n&&(a.width=i._panelWidth,a.left=0,a.height="32%");if(a.left=o.Tool.calcCenterLine("H",e,a.width),Fai.isPC()){var d={width:i._panelWidth+"px",height:i._panelHeight+"px"},s={width:i._panelWidth,height:i._panelHeight},l={width:i._panelWidth,height:i._panelHeight};a.width="100%",a.left=0,t("#"+p).css(d),t("#"+p).find(".J_middle").css(s),t("#"+p).find(".J_photoList").css(l)}var r={top:i._panelPaddingTop+"px ",right:i._panelPaddingLeft+15+"px"};t("#"+p).find(".J_top").css(r),t("#"+p).find(".J_bottom").css(a)}(),t(window).off(".photoSlide"),t(window).on("resize.photoSlide",(function(){Fai.isPC()&&(0==t("#photoSlideShade").length&&t("body").append("<div id='photoSlideShade' style='width: 100%; height: 100%; position: absolute; top: 0px; left: 0px;background-color: #000;z-index: 10000;'></div>"),t("#"+p).is(":animated")&&clearTimeout(d),d=setTimeout((function(){var i=t("#"+p).find(".select").attr("id");if(void 0!==i){var n=parseInt(i.replace("photo",""));o.Func.reOpen(e,n)}}),60))}));var f=o.Options["module"+e];t("#"+f.photoSlideId).stop(!0,!0).fadeIn(500,(function(){t("#photoSlideShade").remove(),t("#"+f.photoSlideId).find(".J_middle").show(),t("#"+f.photoSlideId).find(".J_bottom").show(),o.Options["module"+e].photoSlide.imageFadeIn(e)}))}!function(){var o={moduleId:e,photoSlideId:p,photoSlideType:-1,photoDataList:{},photoSlide:{},pluginsOptions:{closeBtn:{on:!0,arg:{}},prevBtn:{on:!0,arg:{}},nextBtn:{on:!0,arg:{}},descPanel:{on:!0,arg:{}}},loadImgCount:0};if(a){var n={};t.ajax({type:"get",url:Site.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/getPhotoData_h.jsp?groupId="+a+"&cmd=getWafNotCk_getPhotoData",success:function(t){(t=jQuery.parseJSON(t))&&t.success&&null!=t.info&&(n=t.info),i(e,o,n),s()}})}else i(e,o,Fai.top["photoSlideTmp"+e]),s()}(),o["photoSlideInit"+e]=!0},o.Func.open=function(i,e,n){i=isNaN(i)?undefined:parseInt(i),e=isNaN(e)?undefined:parseInt(e),n=isNaN(n)?undefined:parseInt(n),t(window).scrollLeft(0),o.Func.init(i,e,n)},o.Func.reOpen=function(i,e){var n=o.Options["module"+i];t("#"+n.photoSlideId).find(".J_middle").remove(),t("#"+n.photoSlideId).find(".J_bottom").remove(),t("#"+n.photoSlideId).remove(),t(window).off(".photoSlide"),o["photoSlideInit"+i]=!1,o.Func.open(i,e)},o.Func.close=function(i){var e=o.Options["module"+i];t(window).off(".photoSlide"),t(window).off(".closeBodyScoll"),Fai.isPC()||(t("body").removeAttr("style"),t("body").removeClass("closeBodyScoll"),document.scrollingElement.scrollTop=o.Func.scrollTop),t("#"+e.photoSlideId).find(".J_middle").remove(),t("#"+e.photoSlideId).find(".J_bottom").remove(),t("#"+e.photoSlideId).stop(!0,!0).fadeOut(500,(function(){"returnIndex"in o&&o.returnIndex(),t(this).remove()})),(Fai.isIE6()||Fai.isIE7())&&Fai.top.location.reload()},o.Tool.calcCenterLine=function(i,e,n){var a=o.Options.pubOption,d=0;return"V"==i?(d=a._panelHeight,"object"===p(n)&&(n=t(n).height())):"H"==i&&(d=a._panelWidth,"object"===p(n)&&(n=t(n).width())),d/2-n/2},o.Tool.checkImgLoad=function(i,e,n){for(var a="photoSlide_"+e,d=o.Options.pubOption,h=!1,p=0;p<i.length;p++){var s=new Image;s.src=i[p],s.complete||(h=!0)}if(h){var l=o.Options["module"+e].loadImgCount,r=o.Tool.calcCenterLine("V",e,103);t("#"+a).append("<div class='loading' style='width: "+d._panelWidth+"px; height: "+d._panelHeight+"px; '><div class='loadImg' style='margin-top: "+r+"px;'></div></div>");for(var c=0;c<i.length;c++){var f=new Image;Fai.isIE()?(f.onload=function(){++l==i.length&&(t("#"+a).find(".loading").remove(),n&&n())},f.src=i[c]):(f.src=i[c],t(f).load((function(){++l==i.length&&(t("#"+a).find(".loading").remove(),n&&n())})))}}else n&&n()}}(jQuery,Site.photoSlide),{}}()}));